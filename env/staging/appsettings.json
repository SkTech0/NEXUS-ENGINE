{
  "_meta": {
    "comment": [
      "ENV PACK: staging (prod-like)",
      "Hierarchy: defaults → env (this file) → secrets → runtime",
      "Secrets injection: do not store secrets here; bind via env vars and/or secret providers",
      "Env var binding convention: Section__Subsection__Key (e.g., ConnectionStrings__Primary)"
    ],
    "override_points": [
      "ConnectionStrings__Primary",
      "Secrets__Provider",
      "Secrets__Vault__Address (or workload identity)",
      "Observability__Otel__Endpoint"
    ]
  },
  "Environment": "staging",
  "App": {
    "Name": "nexus-engine",
    "Instance": "staging"
  },
  "Logging": {
    "LogLevel": {
      "Default": "Information",
      "Microsoft.AspNetCore": "Warning"
    }
  },
  "AllowedHosts": "*",
  "Cors": {
    "AllowedOrigins": [
      "https://staging.nexus-engine.example.com"
    ]
  },
  "ConnectionStrings": {
    "Primary": "OVERRIDE_WITH_ENVVAR_ConnectionStrings__Primary"
  },
  "Secrets": {
    "Provider": "vault",
    "Vault": {
      "Address": "https://vault.staging.example.com",
      "AuthMethod": "kubernetes",
      "KubernetesRole": "nexus-engine-staging",
      "KvMount": "kv",
      "Prefix": "nexus-engine/staging"
    },
    "AzureKeyVault": {
      "VaultUrl": "https://REPLACE_WITH_STAGING_VAULT.vault.azure.net/",
      "TenantIdEnvVar": "AZURE_TENANT_ID",
      "ClientIdEnvVar": "AZURE_CLIENT_ID",
      "ClientSecretEnvVar": "AZURE_CLIENT_SECRET"
    },
    "AwsSecretsManager": {
      "Region": "us-east-1",
      "AccessKeyIdEnvVar": "AWS_ACCESS_KEY_ID",
      "SecretAccessKeyEnvVar": "AWS_SECRET_ACCESS_KEY"
    }
  },
  "Observability": {
    "Otel": {
      "ServiceName": "nexus-engine",
      "Endpoint": "http://otel-collector.observability:4317",
      "TracesSampler": "parentbased_traceidratio",
      "TracesSampleRatio": 0.05
    }
  }
}
